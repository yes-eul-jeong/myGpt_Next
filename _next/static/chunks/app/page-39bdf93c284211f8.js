(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2277:(e,t,s)=>{Promise.resolve().then(s.bind(s,370))},370:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),l=s(2115);s(8563);var r=s(4430);s(1384);var n=s(2377),o=s(9996);s(5793);let c=e=>{let{systemMessage:t,onClose:s}=e,{TopP:r,Temperature:n,APIkey:c,setTopP:i,setTemperature:d,setAPIkey:h}=(0,o.I)(),[u,m]=(0,l.useState)(t);return(0,a.jsx)("div",{className:"popup-wrap",children:(0,a.jsxs)("div",{className:"popup-box",children:[(0,a.jsx)("h2",{children:"커스텀하기"}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{children:"System Message"}),(0,a.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"시스템 메시지를 입력해주세요",className:"system-message"})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{children:"API key"}),(0,a.jsx)("input",{type:"text",value:c,onChange:e=>h(e.target.value),placeholder:"API key를 입력해주세요"})]}),(0,a.jsxs)("div",{className:"section",children:[(0,a.jsxs)("div",{className:"parameter",children:[(0,a.jsxs)("h4",{children:["Top-P ",(0,a.jsx)("span",{children:r})]}),(0,a.jsxs)("div",{className:"range-label",children:[(0,a.jsx)("p",{children:"일관성"}),(0,a.jsx)("p",{children:"다양성"})]}),(0,a.jsx)("input",{type:"range",id:"TopP",max:"1",min:"0",step:"0.1",value:r,onChange:e=>i(parseFloat(e.target.value))})]}),(0,a.jsxs)("div",{className:"parameter",children:[(0,a.jsxs)("h4",{children:["Temperature ",(0,a.jsx)("span",{children:n})]}),(0,a.jsxs)("div",{className:"range-label",children:[(0,a.jsx)("p",{children:"정확성"}),(0,a.jsx)("p",{children:"창의성"})]}),(0,a.jsx)("input",{type:"range",id:"Temperature",min:"0",max:"2",step:"0.1",value:n,onChange:e=>d(parseFloat(e.target.value))})]})]}),(0,a.jsx)("div",{className:"button-wrap",children:(0,a.jsx)("button",{onClick:()=>{localStorage.setItem("systemMessage",u),localStorage.setItem("APIkey",c),localStorage.setItem("TopP",r.toString()),localStorage.setItem("Temperature",n.toString()),s()},children:"닫기"})})]})})},i=e=>{let{onClose:t}=e,[s,r]=(0,l.useState)(!1),[n,c]=(0,l.useState)(!0),{APIkey:i,setAPIkey:d}=(0,o.I)();return(0,l.useEffect)(()=>{"true"===localStorage.getItem("dontShowModi")&&(r(!0),c(!1))},[]),n&&(0,a.jsx)("div",{className:"popup-wrap",children:(0,a.jsxs)("div",{className:"popup-box",children:[(0,a.jsx)("h2",{children:"방문해주셔서 감사합니다!"}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{children:"API Key"}),(0,a.jsx)("p",{children:"API Key가 있으시다면 키를, 없으시다면 제 이름을 한글로 입력해주세요"}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"API key를 입력해주세요"})]}),(0,a.jsx)("div",{className:"button-wrap",children:(0,a.jsx)("button",{onClick:()=>{localStorage.setItem("dontShowModi",String(s)),localStorage.setItem("APIkey",i),c(!1),t(s)},children:"확인"})}),(0,a.jsx)("section",{children:(0,a.jsxs)("label",{htmlFor:"dont-show",children:[(0,a.jsx)("input",{type:"checkbox",id:"dont-show",checked:s,onChange:()=>r(!s)}),"다시 보지 않기"]})})]})})};console.log("관심가져주셔서 감사합니다. 해당 서비스는 이력서를 위해 만든 서비스이며, APIKey는 제 사비로 충전하여 사용하고있습니다. 너무 많은 사용은 자제해주시기 바랍니다. 방문해주셔서 감사합니다 좋은 하루 되세요!");let d=new r.A({highlight:(e,t)=>{if(t&&n.A.getLanguage(t))try{return n.A.highlight(e,{language:t,ignoreIllegals:!0}).value}catch(e){console.error("하이라이트 오류:",e)}return""}});function h(){let e=(0,l.useRef)(null),[t,s]=(0,l.useState)(""),[r,n]=(0,l.useState)(!0),[o,h]=(0,l.useState)(!1),[u,m]=(0,l.useState)([{role:"system",content:""}]),[p,g]=(0,l.useState)("4em");(0,l.useEffect)(()=>{m([{role:"system",content:localStorage.getItem("systemMessage")||""}])},[]);let x=async e=>{var s,a,l,r;e.preventDefault();let n=[...u,{role:"system",content:localStorage.getItem("systemMessage")||""},{role:"user",content:t},{role:"assistant",content:"생성중..."}];m(n);let o=localStorage.getItem("TopP")||"0.5",c=localStorage.getItem("Temperature")||"1",i=localStorage.getItem("APIkey")||"",h=await fetch("/api/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chats:n,topP:o,temperature:c,apiKey:i})});if(!h.ok){console.log("Error:",(await h.json()).error);return}let p=null===(s=h.body)||void 0===s?void 0:s.getReader(),g=new TextDecoder,x="";for(;p;){let{done:e,value:t}=await p.read();if(e)break;for(let e of g.decode(t).split("\n").filter(e=>""!==e.trim()))if(e.startsWith("data:")){let t=e.replace("data:","").trim();if("[DONE]"===t)break;try{let e=JSON.parse(t);(null===(r=e.choices)||void 0===r?void 0:null===(l=r[0])||void 0===l?void 0:null===(a=l.delta)||void 0===a?void 0:a.content)&&(x+=e.choices[0].delta.content,m(e=>{let t=[...e];return t[t.length-1].content=d.render(x),t}))}catch(e){console.error("JSON 파싱 오류:",e)}}}},j=()=>{let e=t.split("\n").length;e<3?g("4em"):e<=5?g("".concat(e+1,"em")):g("6em")};return(0,l.useEffect)(()=>{j()},[t]),(0,a.jsxs)("main",{className:"p-3",children:[(0,a.jsxs)("div",{className:"header-wrap",children:[(0,a.jsx)("h1",{children:"Seul's chatGPT!"}),(0,a.jsx)("button",{onClick:()=>h(!0),className:"btn btn-secondary",children:"커스텀"})]}),(0,a.jsx)("div",{className:"chat-container",children:u.map((e,t)=>"system"!==e.role?(0,a.jsx)("div",{className:"chat-bubble ".concat(e.role),children:(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.content}})},t):null)}),(0,a.jsxs)("form",{onSubmit:x,className:"chat-input",children:[(0,a.jsx)("textarea",{ref:e,value:t,className:"mb-3 form-control",onKeyDown:e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&x(e)},onChange:e=>s(e.target.value),placeholder:"질문을 입력해주세요",style:{height:p},onInput:j}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"보내기"})]}),o&&(0,a.jsx)(c,{onClose:()=>{h(!1)},systemMessage:localStorage.getItem("systemMessage")||""}),r&&(0,a.jsx)(i,{onClose:()=>{n(!1)}})]})}},9996:(e,t,s)=>{"use strict";s.d(t,{I:()=>n,SystemProvider:()=>o});var a=s(5155),l=s(2115);let r=(0,l.createContext)(void 0),n=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useSystemContext must be used within a SystemProvider");return e},o=e=>{let{children:t}=e,[s,n]=(0,l.useState)(""),[o,c]=(0,l.useState)(""),[i,d]=(0,l.useState)(.5),[h,u]=(0,l.useState)(1);return(0,a.jsx)(r.Provider,{value:{systemMessage:s,APIkey:o,TopP:i,Temperature:h,setSystemMessage:n,setAPIkey:c,setTopP:d,setTemperature:u},children:t})}},5793:()=>{},8563:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[589,907,441,517,358],()=>t(2277)),_N_E=e.O()}]);